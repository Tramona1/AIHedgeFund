"use strict";(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[494],{13620:(e,r,t)=>{t.d(r,{$:()=>l});var o=t(78882),a=t(23722),n=t(29610),s=t(93102),i=t(59683);let c=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,r)=>{let{className:t,variant:a,size:s,asChild:l=!1,...u}=e,d=l?n.DX:"button";return(0,o.jsx)(d,{className:(0,i.cn)(c({variant:a,size:s,className:t})),ref:r,...u})});l.displayName="Button"},88454:(e,r,t)=>{t.d(r,{BT:()=>l,Wu:()=>u,ZB:()=>c,Zp:()=>s,aR:()=>i,wL:()=>d});var o=t(78882),a=t(23722),n=t(59683);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});s.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});l.displayName="CardDescription";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});u.displayName="CardContent";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});d.displayName="CardFooter"},46940:(e,r,t)=>{t.d(r,{J:()=>u});var o=t(78882),a=t(23722),n=t(30684),s=a.forwardRef((e,r)=>(0,o.jsx)(n.sG.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s.displayName="Label";var i=t(93102),c=t(59683);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)(s,{ref:r,className:(0,c.cn)(l(),t),...a})});u.displayName=s.displayName},31071:(e,r,t)=>{t.d(r,{w:()=>u});var o=t(78882),a=t(23722),n=t(30684),s="horizontal",i=["horizontal","vertical"],c=a.forwardRef((e,r)=>{let{decorative:t,orientation:a=s,...c}=e,l=i.includes(a)?a:s;return(0,o.jsx)(n.sG.div,{"data-orientation":l,...t?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...c,ref:r})});c.displayName="Separator";var l=t(59683);let u=a.forwardRef((e,r)=>{let{className:t,orientation:a="horizontal",decorative:n=!0,...s}=e;return(0,o.jsx)(c,{ref:r,decorative:n,orientation:a,className:(0,l.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",t),...s})});u.displayName=c.displayName},39888:(e,r,t)=>{t.d(r,{d:()=>x});var o=t(78882),a=t(23722),n=t(45067),s=t(74527),i=t(2407),c=t(20844),l=t(35108),u=t(30684),d="Switch",[p,f]=(0,i.A)(d),[m,g]=p(d),h=a.forwardRef((e,r)=>{let{__scopeSwitch:t,name:i,checked:l,defaultChecked:d,required:p,disabled:f,value:g="on",onCheckedChange:h,form:b,...v}=e,[k,x]=a.useState(null),N=(0,s.s)(r,e=>x(e)),E=a.useRef(!1),P=!k||b||!!k.closest("form"),[S=!1,R]=(0,c.i)({prop:l,defaultProp:d,onChange:h});return(0,o.jsxs)(m,{scope:t,checked:S,disabled:f,children:[(0,o.jsx)(u.sG.button,{type:"button",role:"switch","aria-checked":S,"aria-required":p,"data-state":w(S),"data-disabled":f?"":void 0,disabled:f,value:g,...v,ref:N,onClick:(0,n.m)(e.onClick,e=>{R(e=>!e),P&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})}),P&&(0,o.jsx)(y,{control:k,bubbles:!E.current,name:i,value:g,checked:S,required:p,disabled:f,form:b,style:{transform:"translateX(-100%)"}})]})});h.displayName=d;var b="SwitchThumb",v=a.forwardRef((e,r)=>{let{__scopeSwitch:t,...a}=e,n=g(b,t);return(0,o.jsx)(u.sG.span,{"data-state":w(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});v.displayName=b;var y=e=>{let{control:r,checked:t,bubbles:n=!0,...s}=e,i=a.useRef(null),c=function(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}(t),u=function(e){let[r,t]=a.useState(void 0);return(0,l.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let o,a;if(!Array.isArray(r)||!r.length)return;let n=r[0];if("borderBoxSize"in n){let e=n.borderBoxSize,r=Array.isArray(e)?e[0]:e;o=r.inlineSize,a=r.blockSize}else o=e.offsetWidth,a=e.offsetHeight;t({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}(r);return a.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==t&&r){let o=new Event("click",{bubbles:n});r.call(e,t),e.dispatchEvent(o)}},[c,t,n]),(0,o.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var k=t(59683);let x=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,o.jsx)(h,{className:(0,k.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:r,children:(0,o.jsx)(v,{className:(0,k.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});x.displayName=h.displayName},59224:(e,r,t)=>{t.d(r,{pu:()=>m,p5:()=>g,tD:()=>d,VX:()=>p,Aj:()=>f});var o=t(79021),a=t(37811);let n=null,s=a.env.NEXT_PUBLIC_SUPABASE_URL||"",i=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"";if(s&&i&&!s.includes("your-supabase-url")&&!i.includes("your-supabase-anon-key"))try{n=(0,o.UU)(s,i),console.log("Supabase client initialized for database operations")}catch(e){console.error("Failed to initialize Supabase client:",e),n={from:()=>(console.error("Supabase client not properly initialized"),{select:()=>Promise.resolve([]),insert:()=>Promise.resolve({data:null,error:Error("Supabase not initialized")}),update:()=>Promise.resolve({data:null,error:Error("Supabase not initialized")}),delete:()=>Promise.resolve({data:null,error:Error("Supabase not initialized")})})}}else console.warn("Supabase URL or API key not properly configured"),n={from:()=>(console.error("Supabase client not properly initialized"),{select:()=>Promise.resolve([]),insert:()=>Promise.resolve({data:null,error:Error("Supabase not initialized")}),update:()=>Promise.resolve({data:null,error:Error("Supabase not initialized")}),delete:()=>Promise.resolve({data:null,error:Error("Supabase not initialized")})})};var c=t(37811);let l=(()=>{if(c.env.NEXT_PUBLIC_API_URL)return c.env.NEXT_PUBLIC_API_URL;{let e=window.location.hostname;return"http://".concat(e,":3002")}})();async function u(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(l).concat(e);try{console.log("Fetching from: ".concat(t));let e=new AbortController,o=setTimeout(()=>e.abort(),3e4),a=await fetch(t,{...r,headers:{"Content-Type":"application/json",...r.headers},signal:e.signal});if(clearTimeout(o),!a.ok){let e;try{e=await a.json()}catch(r){e={message:"HTTP error ".concat(a.status)}}throw Error(e.message||"API error: ".concat(a.status))}return a.json()}catch(e){if(console.error("Failed to fetch from ".concat(t,":"),e),e instanceof TypeError&&"Failed to fetch"===e.message)return console.warn("API connection error: could not connect to server"),{error:"API_CONNECTION_ERROR",message:"Could not connect to the server. Please check your internet connection or try again later.",success:!1,status:"error"};if(e instanceof DOMException&&"AbortError"===e.name)return console.warn("API timeout error: request took too long"),{error:"API_TIMEOUT",message:"Request timed out. The server is taking too long to respond.",success:!1,status:"error"};if(e instanceof Error)return{error:"API_ERROR",message:e.message||"An unknown error occurred",success:!1,status:"error"};return{error:"UNKNOWN_ERROR",message:"An unexpected error occurred",success:!1,status:"error"}}}let d={async getStockData(e){try{let r=e.toUpperCase(),{data:t,error:o}=await n.from("market_data").select("*").eq("ticker",r).order("timestamp",{ascending:!1}).limit(1).single();if(o)return console.error("Error fetching stock data for ".concat(e," from Supabase:"),o),null;if(t)return{symbol:t.ticker,price:t.price||0,change:t.price_change||0,changePercent:t.price_change_pct||0,volume:t.volume||0,lastUpdated:new Date(t.timestamp)};return null}catch(r){return console.error("Error fetching stock data for ".concat(e,":"),r),null}},async getBatchStockData(e){if(!e||0===e.length)return{};try{let r=e.map(e=>e.toUpperCase()),{data:t,error:o}=await n.from("market_data").select("*").in("ticker",r).order("timestamp",{ascending:!1});if(o)return console.error("Error fetching batch stock data from Supabase:",o),{};let a={};if(t&&t.length>0){let e={};t.forEach(r=>{let t=r.ticker;(!e[t]||new Date(r.timestamp)>new Date(e[t].timestamp))&&(e[t]=r)}),Object.values(e).forEach(e=>{a[e.ticker]={symbol:e.ticker,price:e.price||0,change:e.price_change||0,changePercent:e.price_change_pct||0,volume:e.volume||0,lastUpdated:new Date(e.timestamp)}})}return a}catch(e){return console.error("Error fetching batch stock data:",e),{}}}},p={getAll:()=>u("/api/updates"),getByTicker:e=>u("/api/updates/ticker/".concat(e)),create:e=>u("/api/updates",{method:"POST",body:JSON.stringify(e)})},f={async get(e){try{if(!e)return console.warn("Attempted to fetch user preferences without a user ID"),{userPreferences:null};return await u("/api/users/".concat(e,"/preferences"))}catch(e){return console.error("Error fetching user preferences:",e),e instanceof Error&&"User not found"===e.message&&console.log("This appears to be a new user - returning empty preferences"),{userPreferences:null}}},async update(e){try{let r=null;for(let t=1;t<=3;t++)try{return await u("/api/users/preferences",{method:"POST",body:JSON.stringify(e)})}catch(e){if(console.log("API call attempt ".concat(t," failed:"),e),r=e,!(e instanceof TypeError)||3===t)throw e;await new Promise(e=>setTimeout(e,1e3*t))}throw r}catch(e){throw console.error("Error updating user preferences:",e),e}}},m={getRecent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return u("/api/economic-reports/recent?limit=".concat(e))},getBySource:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return u("/api/economic-reports/recent?source=".concat(e,"&limit=").concat(r))},getByCategory:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return u("/api/economic-reports/recent?category=".concat(e,"&limit=").concat(r))},getSources:()=>u("/api/economic-reports/sources"),getCategories:()=>u("/api/economic-reports/categories")},g={getRecent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return u("/api/interviews/recent?limit=".concat(e))},getBySpeaker:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return u("/api/interviews/recent?speaker=".concat(e,"&limit=").concat(r))},getSpeakers:()=>u("/api/interviews/speakers")}},59683:(e,r,t)=>{t.d(r,{cn:()=>n});var o=t(53036),a=t(89257);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,o.$)(r))}}}]);