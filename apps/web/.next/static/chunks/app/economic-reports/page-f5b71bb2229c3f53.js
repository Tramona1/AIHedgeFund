(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[816],{54707:(e,s,a)=>{Promise.resolve().then(a.bind(a,64848))},64848:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var l=a(78882),r=a(23722),c=a(59224),t=a(88454),n=a(13620),i=a(43717),o=a(31422),d=a(92009);let m=(0,d.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),h=(0,d.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var x=a(45230),u=a.n(x);function p(){let[e,s]=(0,r.useState)([]),[a,d]=(0,r.useState)(!0),[x,p]=(0,r.useState)(null),[g,j]=(0,r.useState)({source:null,category:null}),[N,y]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),w=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=async()=>{try{let[e,s]=await Promise.all([c.pu.getSources(),c.pu.getCategories()]);y(e.data||[]),b(s.data||[])}catch(e){console.error("Error fetching filters:",e)}},k=async()=>{d(!0),p(null);try{let e;e=g.source?await c.pu.getBySource(g.source):g.category?await c.pu.getByCategory(g.category):await c.pu.getRecent(20),s(e.data||[])}catch(e){console.error("Error fetching economic reports:",e),p("Failed to load economic reports. Please try again.")}finally{d(!1)}};return(0,r.useEffect)(()=>{v(),k()},[]),(0,r.useEffect)(()=>{k()},[g.source,g.category]),(0,l.jsxs)("div",{className:"container py-8",children:[(0,l.jsxs)("div",{className:"flex items-center mb-6",children:[(0,l.jsx)(n.$,{variant:"ghost",size:"sm",className:"mr-2",asChild:!0,children:(0,l.jsxs)(u(),{href:"/dashboard",children:[(0,l.jsx)(o.A,{className:"h-4 w-4 mr-1"})," Back to Dashboard"]})}),(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Economic Reports"})]}),(0,l.jsxs)(t.Zp,{className:"mb-8",children:[(0,l.jsx)(t.aR,{children:(0,l.jsx)(t.ZB,{children:"Filter Reports"})}),(0,l.jsx)(t.Wu,{children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsxs)("div",{className:"w-full md:w-auto",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Source"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 p-2",value:g.source||"",onChange:e=>j({...g,source:e.target.value||null,category:null}),children:[(0,l.jsx)("option",{value:"",children:"All Sources"}),N.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{className:"w-full md:w-auto",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 p-2",value:g.category||"",onChange:e=>j({...g,category:e.target.value||null,source:null}),children:[(0,l.jsx)("option",{value:"",children:"All Categories"}),f.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsx)("div",{className:"w-full md:w-auto flex items-end",children:(0,l.jsx)(n.$,{variant:"outline",onClick:()=>j({source:null,category:null}),disabled:!g.source&&!g.category,children:"Clear Filters"})})]})})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-6",children:a?[,,,,,].fill(0).map((e,s)=>(0,l.jsx)(t.Zp,{className:"shadow-md",children:(0,l.jsxs)(t.Wu,{className:"p-6",children:[(0,l.jsx)(i.E,{className:"h-8 w-3/4 mb-4"}),(0,l.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,l.jsx)(i.E,{className:"h-5 w-24"}),(0,l.jsx)(i.E,{className:"h-5 w-24"}),(0,l.jsx)(i.E,{className:"h-5 w-32"})]}),(0,l.jsx)(i.E,{className:"h-4 w-full mb-2"}),(0,l.jsx)(i.E,{className:"h-4 w-full mb-2"}),(0,l.jsx)(i.E,{className:"h-4 w-3/4 mb-4"}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(i.E,{className:"h-9 w-28"})})]})},s)):x?(0,l.jsx)(t.Zp,{className:"shadow-md",children:(0,l.jsxs)(t.Wu,{className:"p-6 text-center",children:[(0,l.jsx)("p",{className:"text-red-500 mb-4",children:x}),(0,l.jsx)(n.$,{onClick:k,children:"Retry"})]})}):0===e.length?(0,l.jsx)(t.Zp,{className:"shadow-md",children:(0,l.jsxs)(t.Wu,{className:"p-6 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-medium mb-2",children:"No economic reports found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:g.source||g.category?"Try changing or clearing your filters":"Check back later for new economic reports"}),(g.source||g.category)&&(0,l.jsx)(n.$,{onClick:()=>j({source:null,category:null}),children:"Clear Filters"})]})}):e.map(e=>(0,l.jsx)(t.Zp,{className:"shadow-md",children:(0,l.jsxs)(t.Wu,{className:"p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-3",children:e.subject}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,l.jsx)("span",{className:"text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:e.category}),(0,l.jsx)("span",{className:"text-sm bg-gray-100 text-gray-800 px-2 py-1 rounded-full",children:e.source}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:w(e.timestamp)})]}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:e.summary}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[e.url&&(0,l.jsx)(n.$,{size:"sm",className:"flex items-center gap-1",asChild:!0,children:(0,l.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[(0,l.jsx)(m,{className:"h-4 w-4"})," View Original"]})}),e.file_url&&(0,l.jsx)(n.$,{variant:"outline",size:"sm",className:"flex items-center gap-1",asChild:!0,children:(0,l.jsxs)("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:[(0,l.jsx)(h,{className:"h-4 w-4"})," Download Report"]})})]})]})},e.id))})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[656,230,183,795,722,358],()=>s(54707)),_N_E=e.O()}]);