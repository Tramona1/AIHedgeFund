(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[531],{27378:(e,s,a)=>{Promise.resolve().then(a.bind(a,97011))},97011:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var l=a(78882),r=a(23722),t=a(59224),c=a(88454),n=a(13620),i=a(43717),d=a(31422),m=a(92009);let h=(0,m.A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),x=(0,m.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var p=a(45230),o=a.n(p);function j(){let[e,s]=(0,r.useState)([]),[a,m]=(0,r.useState)(!0),[p,j]=(0,r.useState)(null),[u,N]=(0,r.useState)({speaker:null}),[f,k]=(0,r.useState)([]),w=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=async()=>{try{let e=await t.p5.getSpeakers();k(e.data||[])}catch(e){console.error("Error fetching speakers:",e)}},b=async()=>{m(!0),j(null);try{let e;e=u.speaker?await t.p5.getBySpeaker(u.speaker):await t.p5.getRecent(20),s(e.data||[])}catch(e){console.error("Error fetching interviews:",e),j("Failed to load interviews. Please try again.")}finally{m(!1)}};return(0,r.useEffect)(()=>{g(),b()},[]),(0,r.useEffect)(()=>{b()},[u.speaker]),(0,l.jsxs)("div",{className:"container py-8",children:[(0,l.jsxs)("div",{className:"flex items-center mb-6",children:[(0,l.jsx)(n.$,{variant:"ghost",size:"sm",className:"mr-2",asChild:!0,children:(0,l.jsxs)(o(),{href:"/dashboard",children:[(0,l.jsx)(d.A,{className:"h-4 w-4 mr-1"})," Back to Dashboard"]})}),(0,l.jsx)("h1",{className:"text-2xl font-semibold",children:"Expert Interviews"})]}),(0,l.jsxs)(c.Zp,{className:"mb-8",children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"Filter Interviews"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsxs)("div",{className:"w-full md:w-auto",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Speaker"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 p-2",value:u.speaker||"",onChange:e=>N({...u,speaker:e.target.value||null}),children:[(0,l.jsx)("option",{value:"",children:"All Speakers"}),f.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsx)("div",{className:"w-full md:w-auto flex items-end",children:(0,l.jsx)(n.$,{variant:"outline",onClick:()=>N({speaker:null}),disabled:!u.speaker,children:"Clear Filters"})})]})})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-6",children:a?[,,,,,].fill(0).map((e,s)=>(0,l.jsx)(c.Zp,{className:"shadow-md",children:(0,l.jsxs)(c.Wu,{className:"p-6",children:[(0,l.jsx)(i.E,{className:"h-8 w-3/4 mb-4"}),(0,l.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,l.jsx)(i.E,{className:"h-5 w-24"}),(0,l.jsx)(i.E,{className:"h-5 w-32"})]}),(0,l.jsx)(i.E,{className:"h-4 w-full mb-2"}),(0,l.jsx)(i.E,{className:"h-4 w-full mb-2"}),(0,l.jsx)(i.E,{className:"h-4 w-full mb-2"}),(0,l.jsx)(i.E,{className:"h-4 w-3/4 mb-4"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.E,{className:"h-9 w-28"}),(0,l.jsx)(i.E,{className:"h-9 w-28"})]})]})},s)):p?(0,l.jsx)(c.Zp,{className:"shadow-md",children:(0,l.jsxs)(c.Wu,{className:"p-6 text-center",children:[(0,l.jsx)("p",{className:"text-red-500 mb-4",children:p}),(0,l.jsx)(n.$,{onClick:b,children:"Retry"})]})}):0===e.length?(0,l.jsx)(c.Zp,{className:"shadow-md",children:(0,l.jsxs)(c.Wu,{className:"p-6 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-medium mb-2",children:"No interviews found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:u.speaker?"Try changing or clearing your filters":"Check back later for new expert interviews"}),u.speaker&&(0,l.jsx)(n.$,{onClick:()=>N({speaker:null}),children:"Clear Filters"})]})}):e.map(e=>(0,l.jsx)(c.Zp,{className:"shadow-md",children:(0,l.jsxs)(c.Wu,{className:"p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-3",children:e.title}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,l.jsx)("span",{className:"text-sm bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:e.speaker}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:w(e.timestamp)})]}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:e.summary}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsx)(n.$,{size:"sm",className:"flex items-center gap-1",asChild:!0,children:(0,l.jsxs)("a",{href:e.video_url,target:"_blank",rel:"noopener noreferrer",children:[(0,l.jsx)(h,{className:"h-4 w-4"})," Watch Video"]})}),e.transcript_url&&(0,l.jsx)(n.$,{variant:"outline",size:"sm",className:"flex items-center gap-1",asChild:!0,children:(0,l.jsxs)("a",{href:e.transcript_url,target:"_blank",rel:"noopener noreferrer",children:[(0,l.jsx)(x,{className:"h-4 w-4"})," Read Transcript"]})})]})]})},e.id))})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[656,230,183,795,722,358],()=>s(27378)),_N_E=e.O()}]);