(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[896],{52887:(e,t,s)=>{Promise.resolve().then(s.bind(s,27415))},27415:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(78882),i=s(12325),l=s(23722),r=s(52451),n=s(79773),c=s(88454),o=s(86954);let d=(0,s(92009).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var m=s(59224);function u(){let[e,t]=(0,l.useState)(!0),[s,i]=(0,l.useState)([]),[u,h]=(0,l.useState)(null),{isLoaded:p,user:x}=(0,r.Jd)(),[f,j]=(0,l.useState)({tickers:[]}),g=e=>{let t=new Date(e),s=Math.floor(Math.floor((new Date().getTime()-t.getTime())/1e3)/60),a=Math.floor(s/60),i=Math.floor(a/24);return i>0?"".concat(i," day").concat(i>1?"s":""," ago"):a>0?"".concat(a," hour").concat(a>1?"s":""," ago"):s>0?"".concat(s," minute").concat(s>1?"s":""," ago"):"Just now"};(0,l.useEffect)(()=>{let e=localStorage.getItem("user_tickers");e&&j(JSON.parse(e))},[]);let N=async()=>{if(p&&x)try{t(!0),h(null);let e=f.tickers.map(e=>e.symbol),s=(await m.VX.getAll()).updates||[];s=s.filter(e=>"option_flow"===e.eventType||e.eventType.includes("option_")),e.length>0&&(s=s.filter(t=>e.includes(t.ticker))),s.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i(s)}catch(e){console.error("Error fetching options flow:",e),h("Failed to load options flow. Please try again later.")}finally{t(!1)}};return((0,l.useEffect)(()=>{p&&N()},[p,x,f.tickers.length]),e)?(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)(c.Zp,{className:"border rounded-lg",children:(0,a.jsx)(c.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"h-24 animate-pulse bg-gray-200 rounded"})})},e))}):u?(0,a.jsx)(o.p,{title:"Error loading options flow",description:u,icon:d,actionLabel:"Try Again",onAction:N}):s.length?(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>{var t;return(0,a.jsx)(c.Zp,{className:"border rounded-lg",children:(0,a.jsx)(c.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.E,{variant:"outline",className:"bg-primary/10 text-primary",children:["$",e.ticker]}),(0,a.jsx)(n.E,{className:"bg-purple-100 text-purple-800",children:"Options Flow"}),(null===(t=e.details)||void 0===t?void 0:t.type)&&(0,a.jsx)(n.E,{variant:"CALL"===e.details.type?"default":"destructive",children:e.details.type})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:g(e.createdAt)})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.content}),e.details&&(0,a.jsxs)("div",{className:"mt-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,a.jsx)("span",{children:"Contract: "}),(0,a.jsxs)("span",{className:"font-medium",children:[e.details.strike&&"$".concat(e.details.strike," "),e.details.expiry&&new Date(e.details.expiry).toLocaleDateString()]})]}),e.details.premium&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Premium: "}),(0,a.jsxs)("span",{className:"font-medium",children:["$",Number(e.details.premium).toLocaleString()]})]}),e.details.volume&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Volume: "}),(0,a.jsx)("span",{className:"font-medium",children:Number(e.details.volume).toLocaleString()})]}),e.details.open_interest&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Open Interest: "}),(0,a.jsx)("span",{className:"font-medium",children:Number(e.details.open_interest).toLocaleString()})]}),e.details.sentiment&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Sentiment: "}),(0,a.jsx)("span",{className:"font-medium ".concat("Bullish"===e.details.sentiment?"text-green-600":"Bearish"===e.details.sentiment?"text-red-600":""),children:e.details.sentiment})]})]}),e.source&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["Source: ",e.source]})]})})},e.id)})}):(0,a.jsx)(o.p,{title:"No options flow",description:0===f.tickers.length?"Add tickers to your watchlist to see options flow":"No recent options flow for your watched tickers",icon:d})}function h(){return(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)(i.m,{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Options Flow"}),(0,a.jsx)(u,{})]})})}},92009:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(23722),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:u,...h}=s;return(0,a.createElement)("svg",{ref:r,...i,width:c,height:c,stroke:n,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(l(e)),m].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[656,230,451,183,373,722,358],()=>t(52887)),_N_E=e.O()}]);