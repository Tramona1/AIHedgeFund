(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[265],{96822:(e,t,s)=>{Promise.resolve().then(s.bind(s,68336))},68336:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(78882),a=s(12325),l=s(23722),c=s(52451),i=s(79773),n=s(88454),d=s(86954),o=s(78205),u=s(34984),h=s(11181),x=s(78098),m=s(37063),p=s(59224);function g(){let[e,t]=(0,l.useState)(!0),[s,a]=(0,l.useState)([]),[g,y]=(0,l.useState)(null),{isLoaded:b,user:k}=(0,c.Jd)(),[N,j]=(0,l.useState)({tickers:[]}),f=e=>{let t=new Date(e),s=Math.floor(Math.floor((new Date().getTime()-t.getTime())/1e3)/60),r=Math.floor(s/60),a=Math.floor(r/24);return a>0?"".concat(a," day").concat(a>1?"s":""," ago"):r>0?"".concat(r," hour").concat(r>1?"s":""," ago"):s>0?"".concat(s," minute").concat(s>1?"s":""," ago"):"Just now"},A=e=>e.includes("hedge_fund")?(0,r.jsx)(o.A,{className:"h-4 w-4"}):e.includes("insider")?(0,r.jsx)(u.A,{className:"h-4 w-4"}):e.includes("option")?(0,r.jsx)(h.A,{className:"h-4 w-4"}):e.includes("technical")?(0,r.jsx)(x.A,{className:"h-4 w-4"}):(0,r.jsx)(m.A,{className:"h-4 w-4"}),w=e=>e.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),v=e=>e.includes("buy")||e.includes("bullish")?"bg-green-100 text-green-800":e.includes("sell")||e.includes("bearish")?"bg-red-100 text-red-800":e.includes("hedge_fund")?"bg-purple-100 text-purple-800":e.includes("insider")?"bg-blue-100 text-blue-800":e.includes("option")?"bg-amber-100 text-amber-800":e.includes("technical")?"bg-sky-100 text-sky-800":"bg-gray-100 text-gray-800";(0,l.useEffect)(()=>{let e=localStorage.getItem("user_tickers");e&&j(JSON.parse(e))},[]);let E=async()=>{if(b&&k)try{t(!0),y(null);let e=N.tickers.map(e=>e.symbol),s=(await p.VX.getAll()).updates||[];e.length>0&&(s=s.filter(t=>e.includes(t.ticker))),s.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),a(s)}catch(e){console.error("Error fetching alerts:",e),y("Failed to load alerts. Please try again later.")}finally{t(!1)}};return((0,l.useEffect)(()=>{b&&E()},[b,k,N.tickers.length]),e)?(0,r.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,r.jsx)(n.Zp,{className:"border rounded-lg",children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsx)("div",{className:"h-24 animate-pulse bg-gray-200 rounded"})})},e))}):g?(0,r.jsx)(d.p,{title:"Error loading alerts",description:g,icon:m.A,actionLabel:"Try Again",onAction:E}):s.length?(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,r.jsx)(n.Zp,{className:"border rounded-lg",children:(0,r.jsx)(n.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(i.E,{variant:"outline",className:"bg-primary/10 text-primary",children:["$",e.ticker]}),(0,r.jsxs)(i.E,{className:v(e.eventType),children:[A(e.eventType),(0,r.jsx)("span",{className:"ml-1",children:w(e.eventType)})]})]}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:f(e.createdAt)})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.content}),e.source&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Source: ",e.source]})]})})},e.id))}):(0,r.jsx)(d.p,{title:"No alerts",description:0===N.tickers.length?"Add tickers to your watchlist to see alerts":"No recent alerts for your watched tickers",icon:m.A})}function y(){return(0,r.jsx)("div",{className:"py-6",children:(0,r.jsxs)(a.m,{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Alerts"}),(0,r.jsx)(g,{})]})})}},92009:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(23722),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let s=(0,r.forwardRef)((s,c)=>{let{color:i="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:u="",children:h,...x}=s;return(0,r.createElement)("svg",{ref:c,...a,width:n,height:n,stroke:i,strokeWidth:o?24*Number(d)/Number(n):d,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},78098:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(92009).A)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},37063:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(92009).A)("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]])},78205:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(92009).A)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},11181:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(92009).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},34984:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(92009).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[656,230,451,183,373,722,358],()=>t(96822)),_N_E=e.O()}]);