(globalThis.webpackChunk_N_E=globalThis.webpackChunk_N_E||[]).push([[631],{10348:(e,r,t)=>{Promise.resolve().then(t.bind(t,92654))},92654:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(78882),i=t(23722);let n=(0,t(92009).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var c=t(69250),l=t(12325),a=t(13620),d=t(88454),o=t(39888),u=t(46940),h=t(31071),m=t(52451),g=t(59224);function f(){var e,r,t,f,x;let{isLoaded:v,user:y}=(0,m.Jd)(),[p,k]=(0,i.useState)(!0),[j,b]=(0,i.useState)(!1),[w,N]=(0,i.useState)(null),[A,C]=(0,i.useState)({tickers:[]}),[T,S]=(0,i.useState)({tickers:[],customTriggers:{dailyDigest:!0,weeklyReport:!0,priceAlerts:!0,insiderTrading:!0,hedgeFundActivity:!0}});(0,i.useEffect)(()=>{v&&y&&(async()=>{try{k(!0);let e=await g.Aj.get(y.id);if(e.userPreferences){let r=e.userPreferences.customTriggers||{dailyDigest:!0,weeklyReport:!0,priceAlerts:!0,insiderTrading:!0,hedgeFundActivity:!0};if(S({...e.userPreferences,customTriggers:r}),e.userPreferences.tickers){let r=e.userPreferences.tickers.map(e=>({symbol:e,price:Math.floor(1e3*Math.random())/10+50,change:Math.floor(60*Math.random())/10-3}));C({tickers:r})}}let r=localStorage.getItem("user_tickers");if(r){let e=JSON.parse(r);if(e.tickers&&e.tickers.length>0){let r=T.tickers||[],t=e.tickers.filter(e=>!r.includes(e.symbol));t.length>0&&(C(e=>({...e,tickers:[...e.tickers,...t]})),S(e=>({...e,tickers:[...e.tickers||[],...t.map(e=>e.symbol)]})))}}}catch(e){console.error("Error loading user preferences:",e)}finally{k(!1)}})()},[v,y]);let P=(e,r)=>{S({...T,customTriggers:{...T.customTriggers||{},[e]:r}})},E=e=>{C(r=>({...r,tickers:r.tickers.filter(r=>r.symbol!==e)})),S(r=>({...r,tickers:(r.tickers||[]).filter(r=>r!==e)}));let r=localStorage.getItem("user_tickers");if(r){let t=JSON.parse(r);t.tickers=t.tickers.filter(r=>r.symbol!==e),localStorage.setItem("user_tickers",JSON.stringify(t))}},M=async()=>{if(v&&y)try{var e;b(!0),N(null);let r={userId:y.id,email:(null===(e=y.emailAddresses[0])||void 0===e?void 0:e.emailAddress)||"",tickers:T.tickers||[],sectors:T.sectors||[],tradingStyle:T.tradingStyle||"Growth",updateFrequency:T.updateFrequency||"weekly",customTriggers:T.customTriggers};await g.Aj.update(r),N({type:"success",message:"Your settings have been saved successfully."})}catch(e){console.error("Error saving settings:",e),N({type:"error",message:"Failed to save settings. Please try again."})}finally{b(!1)}};return p?(0,s.jsx)("div",{className:"min-h-screen bg-background py-6",children:(0,s.jsx)(l.m,{children:(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})}):(0,s.jsx)("div",{className:"min-h-screen bg-background py-6",children:(0,s.jsxs)(l.m,{children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"})}),(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(d.ZB,{children:"Tracked Tickers"})}),(0,s.jsx)(d.BT,{children:"These are the stocks you're currently tracking"})]}),(0,s.jsx)(d.Wu,{children:A.tickers.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:A.tickers.map(e=>(0,s.jsxs)("div",{className:"flex items-center bg-blue-50 text-blue-800 px-3 py-1 rounded-full text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:e.symbol}),(0,s.jsx)("button",{onClick:()=>E(e.symbol),className:"ml-2 text-blue-600 hover:text-red-600",children:(0,s.jsx)(n,{className:"h-3.5 w-3.5"})})]},e.symbol))}):(0,s.jsx)("div",{className:"text-muted-foreground text-sm p-2 bg-gray-50 rounded",children:"You are not tracking any tickers. Add some from the dashboard page."})})]}),(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(d.ZB,{children:"Email Preferences"}),(0,s.jsx)(a.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(c.A,{className:"h-4 w-4"})})]}),(0,s.jsx)(d.BT,{children:"Choose how and when you want to receive updates"})]}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(u.J,{htmlFor:"daily-digest",children:"Daily Market Digest"}),(0,s.jsx)(o.d,{id:"daily-digest",checked:(null===(e=T.customTriggers)||void 0===e?void 0:e.dailyDigest)||!1,onCheckedChange:e=>P("dailyDigest",e)})]}),(0,s.jsx)(h.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(u.J,{htmlFor:"weekly-report",children:"Weekly Performance Report"}),(0,s.jsx)(o.d,{id:"weekly-report",checked:(null===(r=T.customTriggers)||void 0===r?void 0:r.weeklyReport)||!1,onCheckedChange:e=>P("weeklyReport",e)})]}),(0,s.jsx)(h.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(u.J,{htmlFor:"price-alerts",children:"Price Movement Alerts"}),(0,s.jsx)(o.d,{id:"price-alerts",checked:(null===(t=T.customTriggers)||void 0===t?void 0:t.priceAlerts)||!1,onCheckedChange:e=>P("priceAlerts",e)})]}),(0,s.jsx)(h.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(u.J,{htmlFor:"insider-trading",children:"Insider Trading Alerts"}),(0,s.jsx)(o.d,{id:"insider-trading",checked:(null===(f=T.customTriggers)||void 0===f?void 0:f.insiderTrading)||!1,onCheckedChange:e=>P("insiderTrading",e)})]}),(0,s.jsx)(h.w,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(u.J,{htmlFor:"hedge-fund",children:"Hedge Fund Activity Alerts"}),(0,s.jsx)(o.d,{id:"hedge-fund",checked:(null===(x=T.customTriggers)||void 0===x?void 0:x.hedgeFundActivity)||!1,onCheckedChange:e=>P("hedgeFundActivity",e)})]})]})})]}),w&&(0,s.jsx)("div",{className:"p-3 rounded ".concat("success"===w.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:w.message}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(a.$,{onClick:M,disabled:j,children:j?"Saving...":"Save Changes"})})]})]})})}},12325:(e,r,t)=>{"use strict";t.d(r,{m:()=>n});var s=t(78882);t(23722);var i=t(59683);function n(e){let{className:r,children:t,...n}=e;return(0,s.jsx)("div",{className:(0,i.cn)("container mx-auto px-4",r),...n,children:t})}},92009:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var s=t(23722),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,r)=>{let t=(0,s.forwardRef)((t,c)=>{let{color:l="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:u="",children:h,...m}=t;return(0,s.createElement)("svg",{ref:c,...i,width:a,height:a,stroke:l,strokeWidth:o?24*Number(d)/Number(a):d,className:["lucide","lucide-".concat(n(e)),u].join(" "),...m},[...r.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(h)?h:[h]])});return t.displayName="".concat(e),t}},69250:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(92009).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},45067:(e,r,t)=>{"use strict";function s(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e?.(s),!1===t||!s.defaultPrevented)return r?.(s)}}t.d(r,{m:()=>s})},2407:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,q:()=>n});var s=t(23722),i=t(78882);function n(e,r){let t=s.createContext(r),n=e=>{let{children:r,...n}=e,c=s.useMemo(()=>n,Object.values(n));return(0,i.jsx)(t.Provider,{value:c,children:r})};return n.displayName=e+"Provider",[n,function(i){let n=s.useContext(t);if(n)return n;if(void 0!==r)return r;throw Error(`\`${i}\` must be used within \`${e}\``)}]}function c(e,r=[]){let t=[],n=()=>{let r=t.map(e=>s.createContext(e));return function(t){let i=t?.[e]||r;return s.useMemo(()=>({[`__scope${e}`]:{...t,[e]:i}}),[t,i])}};return n.scopeName=e,[function(r,n){let c=s.createContext(n),l=t.length;t=[...t,n];let a=r=>{let{scope:t,children:n,...a}=r,d=t?.[e]?.[l]||c,o=s.useMemo(()=>a,Object.values(a));return(0,i.jsx)(d.Provider,{value:o,children:n})};return a.displayName=r+"Provider",[a,function(t,i){let a=i?.[e]?.[l]||c,d=s.useContext(a);if(d)return d;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=t.reduce((r,{useScope:t,scopeName:s})=>{let i=t(e)[`__scope${s}`];return{...r,...i}},{});return s.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return t.scopeName=r.scopeName,t}(n,...r)]}},30684:(e,r,t)=>{"use strict";t.d(r,{hO:()=>a,sG:()=>l});var s=t(23722),i=t(81719),n=t(29610),c=t(78882),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=s.forwardRef((e,t)=>{let{asChild:s,...i}=e,l=s?n.DX:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,c.jsx)(l,{...i,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function a(e,r){e&&i.flushSync(()=>e.dispatchEvent(r))}},47568:(e,r,t)=>{"use strict";t.d(r,{c:()=>i});var s=t(23722);function i(e){let r=s.useRef(e);return s.useEffect(()=>{r.current=e}),s.useMemo(()=>(...e)=>r.current?.(...e),[])}},20844:(e,r,t)=>{"use strict";t.d(r,{i:()=>n});var s=t(23722),i=t(47568);function n({prop:e,defaultProp:r,onChange:t=()=>{}}){let[n,c]=function({defaultProp:e,onChange:r}){let t=s.useState(e),[n]=t,c=s.useRef(n),l=(0,i.c)(r);return s.useEffect(()=>{c.current!==n&&(l(n),c.current=n)},[n,c,l]),t}({defaultProp:r,onChange:t}),l=void 0!==e,a=l?e:n,d=(0,i.c)(t);return[a,s.useCallback(r=>{if(l){let t="function"==typeof r?r(e):r;t!==e&&d(t)}else c(r)},[l,e,c,d])]}},35108:(e,r,t)=>{"use strict";t.d(r,{N:()=>i});var s=t(23722),i=globalThis?.document?s.useLayoutEffect:()=>{}}},e=>{var r=r=>e(e.s=r);e.O(0,[656,451,183,494,722,358],()=>r(10348)),_N_E=e.O()}]);