(()=>{var e={};e.id=478,e.ids=[478],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},57075:e=>{"use strict";e.exports=require("node:stream")},37830:e=>{"use strict";e.exports=require("node:stream/web")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},98544:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(1189),a=t(21538),i=t(46156),l=t.n(i),n=t(67035),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["watchlist",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8797)),"/Users/blakesingleton/Desktop/AIHedgeFund/apps/web/src/app/watchlist/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,86346)),"/Users/blakesingleton/Desktop/AIHedgeFund/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,20520,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,87777,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,58686,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Users/blakesingleton/Desktop/AIHedgeFund/apps/web/src/app/watchlist/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/watchlist/page",pathname:"/watchlist",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25309:(e,s,t)=>{Promise.resolve().then(t.bind(t,8797))},20573:(e,s,t)=>{Promise.resolve().then(t.bind(t,44747))},44747:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(44079),a=t(73706),i=t(2132),l=t(38270),n=t(6394),o=t(17415),d=t(77177),c=t(97527),m=t(27057),x=t(74251);let h=(0,x.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var p=t(7665);let u=(0,x.A)("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);var g=t(75757);let y=(0,x.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var b=t(67478),f=t.n(b);function j(){let{user:e,isLoading:s}=function(){let[e,s]=(0,a.useState)(null),[t,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null);return{user:e,isLoading:t,error:i,signIn:async(e,t)=>{r(!0),l(null);try{return await new Promise(e=>setTimeout(e,800)),s({id:"user123",email:e,name:"Demo User"}),!0}catch(e){return console.error("Error signing in:",e),l("Failed to sign in"),!1}finally{r(!1)}},signOut:async()=>{r(!0);try{return await new Promise(e=>setTimeout(e,500)),s(null),!0}catch(e){return console.error("Error signing out:",e),!1}finally{r(!1)}}}}(),[t,x]=(0,a.useState)([]),[b,j]=(0,a.useState)({}),[v,w]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[A,q]=(0,a.useState)(!1),[C,P]=(0,a.useState)(null),[S,z]=(0,a.useState)(null),F=async()=>{for(let e of t.map(e=>e.symbol))if(!b[e])try{let s=await fetch(`/api/market-data/quotes/${e}`);if(s.ok){let t=await s.json();t.success&&j(s=>({...s,[e]:t.data}))}}catch(s){console.error(`Error fetching data for ${e}:`,s)}},M=async()=>{if(v&&e?.id){k(v),P(null),z(null);try{let s=await fetch("/api/market-data/watchlist/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,symbol:v.toUpperCase()})}),t=await s.json();if(t.success){z(`Added ${v.toUpperCase()} to your watchlist`),x(e=>[...e,t.watchlistItem]),w("");try{let e=await fetch(`/api/market-data/quotes/${v.toUpperCase()}`);if(e.ok){let s=await e.json();s.success&&j(e=>({...e,[v.toUpperCase()]:s.data}))}}catch(e){console.error(`Error fetching data for ${v}:`,e)}}else P(t.message||"Failed to add symbol to watchlist")}catch(e){console.error("Error adding symbol:",e),P("Failed to add symbol to your watchlist. Please try again.")}finally{k("")}}},$=async s=>{if(e?.id){k(s),P(null),z(null);try{let t=await fetch(`/api/market-data/watchlist/user/${e.id}/symbol/${s}`,{method:"DELETE"}),r=await t.json();r.success?(z(`Removed ${s} from your watchlist`),x(e=>e.filter(e=>e.symbol!==s)),j(e=>{let t={...e};return delete t[s],t})):P(r.message||"Failed to remove symbol from watchlist")}catch(e){console.error("Error removing symbol:",e),P("Failed to remove symbol from your watchlist. Please try again.")}finally{k("")}}},E=async()=>{j({}),await F()},I=(e,s)=>{let t=e>=0;return(0,r.jsxs)("div",{className:`flex items-center ${t?"text-green-600":"text-red-600"}`,children:[t?(0,r.jsx)(n.A,{size:16}):(0,r.jsx)(o.A,{size:16}),(0,r.jsx)("span",{className:"mr-1",children:Math.abs(e).toFixed(2)}),(0,r.jsxs)("span",{children:["(",Math.abs(s).toFixed(2),"%)"]})]})};return s?(0,r.jsxs)("div",{className:"flex justify-center items-center min-h-[60vh]",children:[(0,r.jsx)(d.A,{className:"animate-spin mr-2",size:24}),(0,r.jsx)("span",{children:"Loading..."})]}):e?(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Watchlist"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(f(),{href:"/watchlist/alerts",children:(0,r.jsxs)(i.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),"Alerts"]})}),(0,r.jsxs)(i.$,{onClick:()=>document.getElementById("watchlist-new-symbol-input")?.focus(),className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),"Add Symbol"]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Add Symbol"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l.p,{id:"watchlist-new-symbol-input",type:"text",placeholder:"Enter stock symbol (e.g. AAPL)",value:v,onChange:e=>w(e.target.value),maxLength:10,className:"max-w-xs"}),(0,r.jsx)(i.$,{onClick:M,disabled:!v||N===v,children:N===v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"animate-spin mr-2",size:16}),"Adding..."]}):"Add to Watchlist"})]}),C&&(0,r.jsx)("div",{className:"mt-3 text-red-600 text-sm",children:C}),S&&(0,r.jsx)("div",{className:"mt-3 text-green-600 text-sm",children:S})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Your Stocks"}),(0,r.jsxs)(i.$,{variant:"outline",size:"sm",onClick:E,children:[(0,r.jsx)(h,{size:16,className:"mr-2"}),"Refresh"]})]}),A?(0,r.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,r.jsx)(d.A,{className:"animate-spin mr-2",size:24}),(0,r.jsx)("span",{children:"Loading your watchlist..."})]}):0===t.length?(0,r.jsx)("div",{className:"p-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Your watchlist is empty. Add some stocks to get started!"})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-600",children:"Symbol"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"Price"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"Change"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"Volume"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>{let s=b[e.symbol];return(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"px-4 py-3",children:[(0,r.jsx)("div",{className:"font-semibold",children:e.symbol}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.notes||"No notes"})]}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:s?(0,r.jsxs)("div",{className:"font-mono font-medium",children:["$",parseFloat(s["05. price"]).toFixed(2)]}):(0,r.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:s?I(parseFloat(s["09. change"]),parseFloat(s["10. change percent"].replace("%",""))):(0,r.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:s?(0,r.jsx)("div",{className:"font-mono",children:parseInt(s["06. volume"]).toLocaleString()}):(0,r.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:(0,r.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>$(e.symbol),disabled:N===e.symbol,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:N===e.symbol?(0,r.jsx)(d.A,{className:"animate-spin",size:16}):(0,r.jsx)(p.A,{size:16})})})]},e.id)})})]})})]}),t.length>0&&(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Market Insights"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg border shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(u,{className:"text-blue-500 mr-2",size:20}),(0,r.jsx)("h3",{className:"font-semibold",children:"Market Summary"})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"View comprehensive market data and trends for your watchlist stocks."}),(0,r.jsx)(i.$,{variant:"outline",className:"w-full mt-4",asChild:!0,children:(0,r.jsx)(f(),{href:"/dashboard",children:"View Dashboard"})})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg border shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(g.A,{className:"text-green-500 mr-2",size:20}),(0,r.jsx)("h3",{className:"font-semibold",children:"Financial Analysis"})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Explore fundamental data and financial statements for deeper insights."}),(0,r.jsx)(i.$,{variant:"outline",className:"w-full mt-4",asChild:!0,children:(0,r.jsx)(f(),{href:"/financials",children:"View Financials"})})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg border shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(y,{className:"text-purple-500 mr-2",size:20}),(0,r.jsx)("h3",{className:"font-semibold",children:"Technical Indicators"})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Review technical indicators and patterns for your watchlist stocks."}),(0,r.jsx)(i.$,{variant:"outline",className:"w-full mt-4",asChild:!0,children:(0,r.jsx)(f(),{href:"/technical",children:"View Indicators"})})]})]})]})]}):(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"text-center bg-blue-50 rounded-lg p-8 border border-blue-100",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Sign In Required"}),(0,r.jsx)("p",{className:"mb-6",children:"Please sign in to view and manage your watchlist."}),(0,r.jsx)(i.$,{asChild:!0,children:(0,r.jsx)(f(),{href:"/login",children:"Sign In"})})]})})}},38270:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var r=t(44079),a=t(73706),i=t(17903);let l=a.forwardRef(({className:e,type:s,...t},a)=>(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));l.displayName="Input"},97527:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(74251).A)("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]])},17415:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(74251).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6394:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(74251).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},75757:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(74251).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},77177:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(74251).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},27057:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(74251).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8797:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(41797).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/blakesingleton/Desktop/AIHedgeFund/apps/web/src/app/watchlist/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blakesingleton/Desktop/AIHedgeFund/apps/web/src/app/watchlist/page.tsx","default")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[26,113,857,470],()=>t(98544));module.exports=r})();