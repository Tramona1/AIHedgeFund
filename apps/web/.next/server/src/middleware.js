(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{5521:e=>{"use strict";e.exports=require("node:async_hooks")},5356:e=>{"use strict";e.exports=require("node:buffer")},8458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var a={};t.r(a),t.d(a,{config:()=>o,default:()=>d});var i=t(4875),n=t(2290),s=t(6053),u=t(9271);let d=(0,s.Uw)({publicRoutes:["/","/login","/signup","/about","/api/economic-reports/recent","/api/interviews/recent","/api/users/:userId/preferences","/_next/static/(.*)","/favicon.ico","/images/(.*)"],async afterAuth(e,r,t){let a=r.nextUrl.pathname;if(e.userId&&"/"===a||e.userId&&("/login"===a||"/signup"===a))return u.Rp.redirect(new URL("/dashboard",r.url));if(!e.userId&&!e.isPublicRoute){let e=new URL("/login",r.url);return e.searchParams.set("redirect_url",r.url),u.Rp.redirect(e)}return u.Rp.next()}}),o={matcher:["/((?!_next/image|_next/static|_vercel|favicon.ico).*)","/(api|trpc)(.*)"]};t(90);let c={...a},l=c.middleware||c.default,p="/src/middleware";if("function"!=typeof l)throw Error(`The Middleware "${p}" must export a \`middleware\` or a \`default\` function`);function f(e){return(0,n.O)({...e,page:p,handler:async(...e)=>{try{return await l(...e)}catch(n){let r=e[0],t=new URL(r.url),a=t.pathname+t.search;throw await (0,i.Ek)(n,{path:a,method:r.method,headers:Object.fromEntries(r.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),n}}})}}},e=>{var r=r=>e(e.s=r);e.O(0,[270],()=>r(8458));var t=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_src/middleware"]=t}]);
//# sourceMappingURL=middleware.js.map